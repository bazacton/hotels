<?php/** * File Type: Rooms Shortcode */if (!function_exists('cs_rooms_listing')) {    function cs_rooms_listing($atts, $content = "") {        global $post, $wpdb, $cs_node, $cs_theme_option, $events_time, $room_excerpt, $view, $category, $cs_plugin_notify;        $defaults = array('column_size' => '1/1', 'section_title' => '', 'view' => '', 'room_type' => '', 'order' => 'DESC', 'orderby' => 'ID', 'room_excerpt' => '255', 'rooms_pagination' => 'pagination', 'pagination' => '10', 'filterable' => 'yes');        extract(shortcode_atts($defaults, $atts));        $coloumn_class = cs_custom_column_class($column_size);        $cs_dataObject = get_post_meta($post->ID, 'cs_full_data');        ob_start();        $meta_compare = "";        $meta_key = 'cs_room_type';        $order = 'DESC';        $orderby = 'meta_value';        if(empty($_GET['page_id_all']))            $_GET['page_id_all'] = 1;        if(isset($room_type) && $room_type != '') {            $args = array(                'posts_per_page' => "-1",                'post_type' => 'rooms',                'post_status' => 'publish',                'meta_key' => $meta_key,                'meta_value' => $room_type,                'orderby' => $orderby,                'order' => $order,            );        } else {            $args = array(                'posts_per_page' => "-1",                'post_type' => 'rooms',                'post_status' => 'publish',                'orderby' => $orderby,                'order' => $order,            );        }        $custom_query = new WP_Query($args);        $count_post = 0;        $counter = 1;        $count_post = $custom_query->post_count;        if ( $pagination == '' )            $pagination = '-1';        if (isset($room_type) && $room_type != '') {            $args = array(                'posts_per_page' => "$pagination",                'paged' => $_GET['page_id_all'],                'post_type' => 'rooms',                'post_status' => 'publish',                'meta_key' => $meta_key,                'meta_value' => $room_type,                'orderby' => $orderby,                'order' => $order,            );        } else {            $args = array(                'posts_per_page' => "$pagination",                'paged' => $_GET['page_id_all'],                'post_type' => 'rooms',                'post_status' => 'publish',                'orderby' => $orderby,                'order' => $order,            );        }        if (isset($filterable) && $filterable == 'yes') {            $room_type_array = array(                'room_type' => $room_type,                'room_excerpt' => $room_excerpt,                'pagination' => $pagination,            );            cs_get_room_filters($room_type_array);        }				if( isset( $section_title ) && $section_title !='' ){			echo '<div class="cs-section-title  col-md-12" style="margin:32px 0 25px;">					  <h2>'.$section_title.'</h2>				  </div>';		}			          echo '<div class="rooms-listing-wrapper">';		        if ($view == 'modern') {            include( 'rooms-modern.php' );        } else if ($view == 'modern-four') {            include( 'rooms-modern-four.php' );        } else if ($view == 'grid') {            include( 'rooms-grid.php' );        } else if ($view == 'plain') {            include( 'rooms-plain.php' );        } else if ($view == 'slider') {            include( 'rooms-slider.php' );        } else if ($view == 'fancy') {            include( 'rooms-fancy.php' );        } else {            include( 'rooms-classic.php' );        }        //==Pagination Start        if ($view != 'slider') {			if ($count_post > $pagination && $pagination > 0 && $rooms_pagination == 'pagination') {				$qrystr = '';				if (isset($_GET['page_id']))					$qrystr .= "&amp;page_id=" . $_GET['page_id'];				if (isset($_GET['filter_category']))					$qrystr .= "&amp;filter_category=" . $_GET['filter_category'];				echo cs_pagination($count_post, $pagination, $qrystr, 'Show Pagination');			}		}        //==Pagination End          echo '</div>';        $eventpost_data = ob_get_clean();        return $eventpost_data;    }    add_shortcode('cs_rooms', 'cs_rooms_listing');}