<?php// Theme option functionif (!function_exists('cs_settings_options_page')) {    function cs_settings_options_page() {        global $cs_setting_options;        //$cs_plugin_options = get_option('cs_plugin_options');        $obj = new booking_options_fields();        $return = $obj->cs_fields($cs_setting_options);        $html = '        <div class="theme-wrap fullwidth">            <div class="inner">                <div class="outerwrapp-layer">                    <div class="loading_div"> <i class="icon-circle-o-notch icon-spin"></i> <br>                        ' . __('Saving changes...', 'booking') . '                    </div>                    <div class="form-msg"> <i class="icon-check-circle-o"></i>                        <div class="innermsg"></div>                    </div>                </div>                <div class="row">                    <form id="plugin-options" method="post">						<div class="col1">                            <nav class="admin-navigtion">                                <div class="logo"> <a href="javascript;;" class="logo1"><img src="' . wp_hotel_booking::plugin_url() . 'assets/images/logo.png" /></a> <a href="#" class="nav-button"><i class="icon-align-justify"></i></a> </div>                                <ul>                                    ' . force_balance_tags($return[1], true) . '                                </ul>                            </nav>                        </div>                        <div class="col2">                            ' . force_balance_tags($return[0], true) . '							                        </div>                        <div class="clear"></div>						<div class="footer">							<input type="button" id="submit_btn" name="submit_btn" class="bottom_btn_save" value="' . __('Save All Settings', 'booking') . '" onclick="javascript:plugin_option_save(\'' . esc_js(admin_url('admin-ajax.php')) . '\');" />							<input type="hidden" name="action" value="plugin_option_save"  />							<input type="hidden" id="cs_plugin_url" name="cs_plugin_url" value="' . wp_hotel_booking::plugin_url() . '"  />							<input class="bottom_btn_reset" name="reset" type="button" value="' . __('Reset All Options', 'booking') . '" onclick="javascript:cs_rest_plugin_options(\'' . esc_js(admin_url('admin-ajax.php')) . '\');" />							<!--<input class="bottom_btn_reset" name="demo" type="button" value="' . __('Demo Options', 'booking') . '" onclick="javascript:cs_demo_plugin_options(\'' . esc_js(admin_url('admin-ajax.php')) . '\');" /> -->						</div>                    </form>                </div>            </div>        </div>        <div class="clear"></div>';        $html .= '<script type="text/javascript">			// Sub Menus Show/hide			jQuery(document).ready(function($) {                jQuery(".sub-menu").parent("li").addClass("parentIcon");                $("a.nav-button").click(function() {                    $(".admin-navigtion").toggleClass("navigation-small");                });                                $("a.nav-button").click(function() {                    $(".inner").toggleClass("shortnav");                });                                $(".admin-navigtion > ul > li > a").click(function() {                    var a = $(this).next(\'ul\')                    $(".admin-navigtion > ul > li > a").not($(this)).removeClass("changeicon")                    $(".admin-navigtion > ul > li ul").not(a) .slideUp();                    $(this).next(\'.sub-menu\').slideToggle();                    $(this).toggleClass(\'changeicon\');                });            });                        function show_hide(id){                var link = id.replace("#", "");                jQuery(\'.horizontal_tab\').fadeOut(0);                jQuery("#"+link).fadeIn(400);            }                        function toggleDiv(id) {                 jQuery(\'.col2\').children().hide();                jQuery(id).show();                location.hash = id+"-show";                var link = id.replace("#", "");                jQuery(\'.categoryitems li\').removeClass(\'active\');                jQuery(".menuheader.expandable") .removeClass(\'openheader\');                jQuery(".categoryitems").hide();                jQuery("."+link).addClass(\'active\');                jQuery("."+link) .parent("ul").show().prev().addClass("openheader");            }            jQuery(document).ready(function() {                jQuery(".categoryitems").hide();                jQuery(".categoryitems:first").show();                jQuery(".menuheader:first").addClass("openheader");                jQuery(".menuheader").live(\'click\', function(event) {                    if (jQuery(this).hasClass(\'openheader\')){                        jQuery(".menuheader").removeClass("openheader");                        jQuery(this).next().slideUp(200);                        return false;                    }                    jQuery(".menuheader").removeClass("openheader");                    jQuery(this).addClass("openheader");                    jQuery(".categoryitems").slideUp(200);                    jQuery(this).next().slideDown(200);                     return false;                });                                var hash = window.location.hash.substring(1);                var id = hash.split("-show")[0];                if (id){                    jQuery(\'.col2\').children().hide();                    jQuery("#"+id).show();                    jQuery(\'.categoryitems li\').removeClass(\'active\');                    jQuery(".menuheader.expandable") .removeClass(\'openheader\');                    jQuery(".categoryitems").hide();                    jQuery("."+id).addClass(\'active\');                    jQuery("."+id) .parent("ul").slideDown(300).prev().addClass("openheader");                }             });            jQuery(function($) {                $( "#cs_launch_date" ).datepicker({                    defaultDate: "+1w",                    dateFormat: "dd/mm/yy",                    changeMonth: true,                    numberOfMonths: 1,                    onSelect: function( selectedDate ) {                        $( "#cs_launch_date" ).datepicker();                    }                });            });        </script>';        echo force_balance_tags($html, true);    }}add_action('admin_init', 'cs_settings_option');if (!function_exists('cs_settings_option')) {    function cs_settings_option() {        global $cs_setting_options;        //$cs_plugin_options = get_option('cs_plugin_options');        $on_off_option = array("show" => "on", "hide" => "off");        $cs_min_days = array();        for ($days = 1; $days < 11; $days++) {            $cs_min_days[$days] = "$days day";        }        $cs_setting_options[] = array(            "name" => __("General Options", "booking"),            "fontawesome" => 'icon-tools3',            "id" => "tab-general",            "std" => "",            "type" => "main-heading",            "options" => ''        );        $cs_setting_options[] = array(            "name" => __("Payment Settings", "booking"),            "fontawesome" => 'icon-credit-card',            "id" => "tab-payment-settings",            "std" => "",            "type" => "main-heading",            "options" => ''        );        $cs_setting_options[] = array(            "name" => __("Payment Gateways", "booking"),            "fontawesome" => 'icon-credit-card',            "id" => "tab-gateways-settings",            "std" => "",            "type" => "main-heading",            "options" => ''        );        $cs_setting_options[] = array(            "name" => __("Extras", "booking"),            "fontawesome" => 'icon-feather2',            "id" => "tab-extras-settings",            "std" => "",            "type" => "main-heading",            "options" => ''        );        $cs_setting_options[] = array(            "name" => __("Features", "booking"),            "fontawesome" => 'icon-feather2',            "id" => "cs-dynamic-features",            "std" => "",            "type" => "main-heading",            "options" => ''        );        $cs_setting_options[] = array(            "name" => __("Reviews", "booking"),            "fontawesome" => 'icon-pin-alt',            "id" => "tab-reviews-settings",            "std" => "",            "type" => "main-heading",            "options" => ''        );        $cs_setting_options[] = array(            "name" => __("Search Settings", "booking"),            "fontawesome" => 'icon-search6',            "id" => "tab-search",            "std" => "",            "type" => "main-heading",            "options" => ''        );        // General Settings        $cs_setting_options[] = array("name" => __("General Options", "booking"),            "id" => "tab-general",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("Booking Settings", "booking"),            "id" => "tab-booking-settings",            "std" => __("Booking Settings", "booking"),            "type" => "section",            "options" => ""        );        $cs_setting_options[] = array(            "name" => __('Price Charge', 'booking'),            "desc" => "",            "hint_text" => __('Set Price Charging Scenario.', 'booking'),            "id" => "cs_charge_base",            "std" => "",            "type" => "select_values",            "options" => array('daily' => __('Daily', 'booking'), 'hourly' => __('Hourly', 'booking'))        );        $cs_setting_options[] = array(            "name" => __('Reservation Page', 'booking'),            "desc" => "",            "hint_text" => __('Go to Pages and create New Page, Assign User Reservation Template and then choose that New Page here', 'booking'),            "id" => "cs_reservation",            "std" => "",            "type" => "select_dashboard",            "options" => ''        );        $cs_setting_options[] = array("name" => __("Allow Booking", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_allow_user_booking",            "std" => "on",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("Rooms Booking Type", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_rooms_booking_type",            "std" => "by_price",            "type" => "select",            "options" => array('by_per_person' => 'By Per Person', 'by_room' => 'By Room'),        );        $cs_setting_options[] = array(            "name" => __("Minimum Booking", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_min_booking",            "std" => "",            "type" => "select_values",            "options" => $cs_min_days        );        $cs_setting_options[] = array("name" => __("Advance Deposit", "booking"),            "desc" => "",            "hint_text" => __("Allow advance deposit %", "booking"),            "id" => "cs_advnce_deposit",            "std" => "50",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Full Payment", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_allow_full_pay",            "std" => "off",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("Booking Thank you Message", "booking"),            "id" => "tab-thankyou-options",            "std" => __("Booking Thank you Message", "booking"),            "type" => "section",            "options" => ""        );        $cs_setting_options[] = array("name" => __("Title", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_thank_title",            "std" => __("Thank you for booking with us.", "booking"),            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Phone", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_confir_phone",            "std" => "+44 1234 5678",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Fax", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_confir_fax",            "std" => "+44 1234 5678",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Email", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_confir_email",            "std" => "example@example.com",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Message", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_thank_msg",            "std" => '',            "type" => "textarea",        );        $cs_setting_options[] = array("name" => __("Rooms Settings", "booking"),            "id" => "tab-room-options",            "std" => __("Rooms Settings", "booking"),            "type" => "section",            "options" => ""        );        $cs_setting_options[] = array("name" => __("Total No of Rooms", "booking"),            "desc" => "",            "hint_text" => "Add total no of rooms eg: 100",            "id" => "cs_total_rooms",            "std" => __("100", "booking"),            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Language Settings", "booking"),            "id" => "tab-lang-options",            "std" => "Language Settings",            "type" => "section",            "options" => ""        );        $dir = wp_hotel_booking::plugin_dir() . '/languages/';        $cs_plugin_language[''] = __('Select Language File', "booking");        if (is_dir($dir)) {            if ($dh = opendir($dir)) {                while (($file = readdir($dh)) !== false) {                    $ext = pathinfo($file, PATHINFO_EXTENSION);                    if ($ext == 'mo') {                        $cs_plugin_language[$file] = $file;                    }                }                closedir($dh);            }        }        $cs_setting_options[] = array("name" => __("Select Plugin Language", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_language_file",            "std" => "30",            "type" => "select",            "options" => $cs_plugin_language,        );        // Payments Settings        $cs_setting_options[] = array("name" => __("Payment Settings", "booking"),            "id" => "tab-payment-settings",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("General Settings", "booking"),            "id" => "tab-general-payments",            "std" => __("General Settings", "booking"),            "type" => "section",            "options" => ""        );        $cs_setting_options[] = array("name" => __("VAT On/Off", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_vat_switch",            "std" => "on",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("VAT(Value Added Tax) in %", "booking"),            "desc" => "",            "hint_text" => __("Add Numeric value eg:14", "booking"),            "id" => "cs_payment_vat",            "std" => "",            "type" => "text",        );        // Currency Settings        $cs_setting_options[] = array(            "name" => __("Currency Settings", "booking"),            "id" => "tab-currency-settings",            "std" => __("Currency Settings", "booking"),            "type" => "section"        );        global $gateways;        $general_settings = new CS_PAYMENTS();        $cs_settings = $general_settings->cs_general_settings();        foreach ($cs_settings as $key => $params) {            $cs_setting_options[] = $params;        }        // Payments Gateways        $cs_setting_options[] = array(            "name" => __("Gateways Settings", "booking"),            "id" => "tab-gateways-settings",            "type" => "sub-heading"        );        $cs_gateways_id = CS_FUNCTIONS()->cs_rand_id();        $cs_setting_options[] = array(            "type" => "acc_start",            "rand" => "$cs_gateways_id"        );        foreach ($gateways as $key => $value) {            if (class_exists($key)) {                $settings = new $key();                $cs_settings = $settings->settings($cs_gateways_id);                foreach ($cs_settings as $key => $params) {                    $cs_setting_options[] = $params;                }            }        }        $cs_setting_options[] = array(            "type" => "elem_end",        );        // Extras        $cs_setting_options[] = array(            "name" => __("Extras Settings", "booking"),            "id" => "tab-extras-settings",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("Extras On/Off", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_extras_switch",            "std" => "on",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("Extras Settings", "booking"),            "desc" => "",            "hint_text" => __("Add/Edit Extras", "booking"),            "id" => "extras",            "std" => '',            "type" => "extras"        );        $cs_setting_options[] = array("name" => __("Features", "booking"),            "id" => "cs-dynamic-features",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("Features On/Off", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_features_switch",            "std" => "on",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("Add Features", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_booking_features",            "std" => "",            "type" => "features",            "options" => ""        );        // Reviews Basic Settings        $cs_setting_options[] = array(            "name" => __("Reviews Setting", "booking"),            "id" => "tab-reviews-settings",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("Reviews Per Page", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_reviews_per_page",            "std" => "10",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("Reviews From Frontend", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_reviews_front",            "std" => "on",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("New Review Status", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_review_status",            "std" => "publish",            "type" => "select_values",            "options" => array('publish' => __('Publish', "booking"), 'pending' => __('Pending', "booking")),        );        $cs_setting_options[] = array("name" => __("Booking Id Check", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_review_booking_id",            "std" => "on",            "type" => "checkbox",            "options" => $on_off_option        );        $cs_setting_options[] = array("name" => __("Dynamic Review List", "booking"),            "id" => "tab-dyn-reviews",            "std" => __("Dynamic Review List", "booking"),            "type" => "section",            "options" => ""        );        $cs_setting_options[] = array("name" => __("Dynamic Review", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_booking_reviews",            "std" => "",            "type" => "reviews",            "options" => ""        );        // Search Settings        $cs_setting_options[] = array(            "name" => __("Search Settings", "booking"),            "id" => "tab-search",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("No of Childs", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_childs",            "std" => "10",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("No of Adults", "booking"),            "desc" => "",            "hint_text" => "",            "id" => "cs_adults",            "std" => "10",            "type" => "text",        );        $cs_setting_options[] = array("name" => __("import & export", 'booking'),            "fontawesome" => 'icon-database',            "id" => "tab-import-export-options",            "std" => "",            "type" => "main-heading",            "options" => ""        );        $cs_setting_options[] = array("name" => __("import & export", 'booking'),            "id" => "tab-import-export-options",            "type" => "sub-heading"        );        $cs_setting_options[] = array("name" => __("Export", 'booking'),            "desc" => "",            "hint_text" => __("If you want to make changes in your site or want to preserve your current settings, Export them code by saving this code with you. You can restore your settings by pasting this code in Import section below", 'booking'),            "id" => "cs_export_plugin_options",            "std" => "",            "type" => "export"        );        $cs_setting_options[] = array("name" => __("Import", 'booking'),            "desc" => "",            "hint_text" => __("To Import your settings, paste the code that you got in above area and saved it with you", 'booking'),            "id" => "cs_import_plugin_options",            "std" => "",            "type" => "import"        );        update_option('cs_plugin_data', $cs_setting_options);    }}