<?php/** *  File Type: Pre Bank Transfer * */if (!class_exists('CS_PRE_BANK_TRANSFER')) {    class CS_PRE_BANK_TRANSFER {        public function __construct() {            global $cs_plugin_options;            //$cs_plugin_options	= get_option('cs_plugin_options');        }        public function settings($cs_gateways_id = '') {            global $post;            $cs_rand_id = CS_FUNCTIONS()->cs_rand_id();            $on_off_option = array("show" => "on", "hide" => "off");            $cs_settings[] = array(                "type" => "acc_panel_start",            );            $cs_settings[] = array("name" => __("Bank Transfer Settings", "booking"),                "id" => "tab-heading-options",                "std" => __("Bank Transfer Settings", "booking"),                "type" => "section",                "accordion" => false,                "id" => "$cs_rand_id",                "parrent_id" => "$cs_gateways_id",                "active" => false,            );            $cs_settings[] = array(                "type" => "acc_cont_start",                "rand" => "$cs_rand_id",                "active" => false,            );            $cs_settings[] = array("name" => __("Custom Logo", "booking"),                "desc" => "",                "hint_text" => "",                "id" => "cs_pre_bank_transfer_logo",                "std" => wp_hotel_booking::plugin_url() . 'payments/images/bank.png',                "display" => "none",                "type" => "upload logo"            );            $cs_settings[] = array("name" => __("Default Status", "booking"),                "desc" => "",                "hint_text" => "Show/Hide Gateway On Front End.",                "id" => "cs_pre_bank_transfer_status",                "std" => "on",                "type" => "checkbox",                "options" => $on_off_option            );            $cs_settings[] = array("name" => __("Bank Information", "booking"),                "desc" => "",                "hint_text" => __("Enter the bank name to which you want to transfer payment", "booking"),                "id" => "cs_bank_information",                "std" => "",                "type" => "text"            );            $cs_settings[] = array("name" => __("Account Number", "booking"),                "desc" => "",                "hint_text" => __("Enter your bank Account Id", "booking"),                "id" => "cs_bank_account_id",                "std" => "",                "type" => "text"            );            $cs_settings[] = array("name" => __("Other Information", "booking"),                "desc" => "",                "hint_text" => __("Enter your bank Other Information.", "booking"),                "id" => "cs_other_information",                "std" => "",                "type" => "textarea"            );            $cs_settings[] = array(                "type" => "elem_end",            );            $cs_settings[] = array(                "type" => "elem_end",            );            $cs_settings[] = array(                "type" => "elem_end",            );            return $cs_settings;        }        public function cs_proress_request($params = '') {            global $post, $cs_plugin_options, $cs_plugin_options;            extract($params);            $currency_sign = isset($cs_plugin_options['currency_sign']) && $cs_plugin_options['currency_sign'] != '' ? $cs_plugin_options['currency_sign'] : '$';            $cs_booking = get_post_meta($order_id, 'cs_booked_room_data', false);            $cs_booking_extras = get_post_meta($order_id, 'cs_booking_extras', false);            $cs_bkng_gross_total = get_post_meta((int) $order_id, 'cs_bkng_gross_total', true);            $vat_percentage = get_post_meta((int) $order_id, 'cs_bkng_vat_percentage', true);            $cs_bkng_tax = get_post_meta((int) $order_id, 'cs_bkng_tax', true);            $grand_total = get_post_meta($order_id, 'cs_bkng_grand_total', true);            $cs_bkng_advance = get_post_meta($order_id, 'cs_bkng_advance', true);            $cs_booking = isset($cs_booking[0]) ? $cs_booking[0] : '';            $cs_booking_extras = isset($cs_booking_extras[0]) ? $cs_booking_extras[0] : '';            $cs_bank_transfer = '<div class="cs-bank-transfer">';            $cs_bank_transfer .= '<h2>' . __('Order detail', 'booking') . '</h2>';            $cs_bank_transfer .= '<ul class="list-group">';            $cs_bank_transfer .= '<li class="list-group-item">';            $cs_bank_transfer .= '<span class="badge">#' . $cs_booking_id . '</span>';            $cs_bank_transfer .= __('Booking Id', 'booking');            $cs_bank_transfer .= '</li>';            if (isset($cs_booking) && is_array($cs_booking) && !empty($cs_booking)) {                $counter = 0;                foreach ($cs_booking as $key => $data) {                    $counter++;                    $cs_bank_transfer .= '<li class="room-1">';                    $cs_bank_transfer .= '<div class="text">';                    $cs_bank_transfer .= '<h6>' . get_the_title($data['capacity']) . ' #' . $data['room_id'] . '</h6>';                    $cs_bank_transfer .= '<p>' . __('Guests: ', 'booking') . $data['adults'] . __(' Adult(s), ', 'booking') . $data['adults'] . __(' Child(s)', 'booking') . '</p>';                    $cs_bank_transfer .= '</div>';                    $cs_bank_transfer .= '<small>' . absint($counter) . '</small>';                    $cs_bank_transfer .= '</li>';                }            }            $cs_bank_transfer .= '<li class="list-group-item">';            $cs_bank_transfer .= '<span class="badge">' . $currency_sign . number_format($cs_bkng_gross_total, 2) . '</span>';            $cs_bank_transfer .= __('Gross Total', 'booking');            $cs_bank_transfer .= '</li>';            $cs_bank_transfer .= '<li class="list-group-item">';            $cs_bank_transfer .= '<span class="badge">' . $currency_sign . number_format($cs_bkng_tax, 2) . '</span>';            $cs_bank_transfer .= __('VAT', 'booking') . '(' . $vat_percentage . '%)';            $cs_bank_transfer .= '</li>';            $cs_bank_transfer .= '<li class="list-group-item">';            $cs_bank_transfer .= '<span class="badge">' . $currency_sign . number_format($cs_grand_total, 2) . '</span>';            $cs_bank_transfer .= __('Grand Total', 'booking');            $cs_bank_transfer .= '</li>';            $cs_bank_transfer .= '<li class="list-group-item">';            $cs_bank_transfer .= '<span class="badge">' . $currency_sign . number_format($cs_grand_total, 2) . '</span>';            $cs_bank_transfer .= __('Balance', 'booking');            $cs_bank_transfer .= '</li>';            $cs_bank_transfer .= '</ul>';            $cs_bank_transfer .= '<h2>' . __('Bank detail', 'booking') . '</h2>';            $cs_bank_transfer .= '<ul class="list-group">';            if (isset($cs_plugin_options['cs_bank_information']) && $cs_plugin_options['cs_bank_information'] != '') {                $cs_bank_transfer .= '<li class="list-group-item">';                $cs_bank_transfer .= '<span class="badge">' . $cs_plugin_options['cs_bank_information'] . '</span>';                $cs_bank_transfer .= __('Bank Information', 'booking');                $cs_bank_transfer .= '</li>';            }            if (isset($cs_plugin_options['cs_bank_account_id']) && $cs_plugin_options['cs_bank_account_id'] != '') {                $cs_bank_transfer .= '<li class="list-group-item">';                $cs_bank_transfer .= '<span class="badge">' . $cs_plugin_options['cs_bank_account_id'] . '</span>';                $cs_bank_transfer .= __('Account No', 'booking');                $cs_bank_transfer .= '</li>';            }            if (isset($cs_plugin_options['cs_other_information']) && $cs_plugin_options['cs_other_information'] != '') {                $cs_bank_transfer .= '<li class="list-group-item">';                $cs_bank_transfer .= '<span class="cs-info-title">' . __('Other Information', 'booking') . '</span>';                $cs_bank_transfer .= '<p class="cs-bank-info">' . $cs_plugin_options['cs_other_information'] . '</p>';                $cs_bank_transfer .= '</li>';            }            $cs_bank_transfer .= '</ul>';            $cs_bank_transfer .= '</div>';            return force_balance_tags($cs_bank_transfer);        }    }}